{% extends 'main/base.html' %}
{% block title %}Property{% endblock %}
{% block content %}
<section class="container">
    <div class="row mb-3">
        <div class="col-md-6">
            <h1>Property</h1>
        </div>
        <div class="col-md-6 text-end">
            <button class="btn btn-primary" onclick="showForm()">
                Add Property
            </button>
        </div>
    </div>
    <div id="prop" class="d-none">
        <form method="post">
            {% csrf_token %}
            <table class="table">
                <tr>
                    <td><label for="propertyName">Name:</label></td>
                    <td><input id="propertyName" type="text" name="propertyName" class="form-control"></td>
                </tr>
                <tr>
                    <td><label for="address">Address:</label></td>
                    <td><textarea id="address" name="address" class="form-control"></textarea></td>
                </tr>
                <tr>
                    <td><label for="location">Location:</label></td>
                    <td><input id="location" type="text" name="location" class="form-control"></td>
                </tr>
                <tr>
                    <td><label for="features">Features:</label></td>
                    <td><textarea id="features" name="features" class="form-control"></textarea></td>
                </tr>
            </table>
            <input type="submit" value="Add Property" class="btn btn-outline-primary mb-3">
        </form>
    </div>
    <div class="table-responsive">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Address</th>
                    <th>Location</th>
                    <th>Features</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for i in datas %}
                <tr>
                    <td>{{ i.name }}</td>
                    <td>{{ i.address }}</td>
                    <td>{{ i.location }}</td>
                    <td>{{ i.features }}</td>
                    <td>
                        <a href="update_property?Prop_id={{ i.id }}" class="btn btn-primary">Update</a>
                        <a href="delete_property?Prop_id={{ i.id }}" class="btn btn-danger">Delete</a>
                        <a href="unit?Prop_id={{ i.id }}" class="btn btn-info">Add Unit</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>
<script>
    const showForm = () => document.getElementById("prop").classList.remove('d-none');
</script>
{% endblock %}
